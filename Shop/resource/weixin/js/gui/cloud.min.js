!function(h){"function"===typeof define&&"object"===typeof define.amd&&define.amd?define(h):"undefined"!==typeof module&&module.exports?module.exports=h():window.cloud=h()}(function(){function h(c,f,e,a){c=[];for(var d=0;d<f.length;d++)c.push('<div class="cloud-select" data-index="'+d+'">'),(new RegExp("^("+a.replace(/,/,"|")+")$")).test(f[d][e])?c.push('<div class="cloud-select-true"></div>'):c.push('<div class="cloud-select-false"></div>'),c.push('<div class="cloud-select-title">'+f[d][e]+"</div>"),
c.push("</div>");return c.join("")}var m=document,k=0,g={},l=["success","warning","error","loading"];g.open=function(c){function f(){for(var b=0;b<l.length;b++)if(l[b]==a.icon)return'<div class="cloud-icon cloud-icon-'+l[b]+'">'+a.content+"</div>";return/^.*?(jpg|png|gif)$/.test(a.icon)?'<div class="cloud-icon" style="background-image: url('+a.icon+');">'+a.content+"</div>":a.content}function e(){!1!==a.close(d)&&(d.className+=" cloud-close",m.body.removeChild(d))}var a={title:"",closeBtn:!1,content:"",
icon:"",covered:!1,coveredClose:!0,button:[],load:function(b){},close:function(b){}},d=document.createElement("div");k++;(function(){for(var b in c)a[b]=c[b]})();(function(){var b=[];d.className="cloud";d.id="cloud-"+k;d.style.zIndex=1E4+k;b.push('<div class="cloud-main">');if(""!=a.title||a.closeBtn)b.push('<div class="cloud-title">'),b.push(a.title),a.closeBtn&&b.push('<div class="cloud-closebtn"></div>'),b.push("</div>");""!=a.content&&b.push('<div class="cloud-content">'+f()+"</div>");if(0<a.button.length){var c=
a.button;b.push('<div class="cloud-button">');for(var e=0;e<c.length;e++)b.push('<div class="cloud-button-item">'+c[e].name+"</div>");b.push("</div>")}b.push("</div>");a.covered&&b.push('<div class="cloud-cover"></div>');d.innerHTML=b.join("")})();(function(){var b=d.querySelector(".cloud-closebtn"),c=d.querySelectorAll(".cloud-button-item"),f=d.querySelector(".cloud-cover");b&&b.addEventListener("click",e,!1);if(0<c.length)for(b=0;b<a.button.length;b++)(function(b,a){b.addEventListener("click",function(){"callback"in
a?!1!==a.callback(d)&&e():e()},!1)})(c[b],a.button[b]);f&&a.coveredClose&&f.addEventListener("click",e,!1)})();m.body.appendChild(d);a.load(d);d.style.margin="-"+d.offsetHeight/2+"px 0 0 -"+d.offsetWidth/2+"px";return{close:e,el:d}};g.msg=function(c,f,e){var a=!0,d=this.open({content:c,load:function(b){b.style.top=f||"50%";var a=b.querySelector(".cloud-main");a.style.background="rgba(0, 0, 0, 0.5)";a.style.border="none";a.style.width="auto";b=b.querySelector(".cloud-content");b.style.color="#fff";
b.style.padding="2px 10px";b.style.fontSize="12px"},close:function(b){return a?(b.style.cssText+="-webkit-transition: all 0.5s;transition: all 0.5s;opacity: 0;",a=!1,setTimeout(d.close,500),!1):!0}});setTimeout(d.close,e||1500);return d};g.text=function(c,f,e){return this.open({title:c||"\u8bf7\u8f93\u5165\u5185\u5bb9",content:'<input class="cloud-text" type="text" value="'+(f||"")+'">',covered:!0,coveredClose:!1,closeBtn:!0,button:[{name:"\u53d6\u6d88"},{name:"\u786e\u5b9a",callback:function(a){a=
a.querySelector(".cloud-text");e(a.value)}}]})};g.textarea=function(c,f,e){return this.open({title:c||"\u8bf7\u8f93\u5165\u5185\u5bb9",content:'<textarea class="cloud-text">'+f+"</textarea>",covered:!0,coveredClose:!1,closeBtn:!0,button:[{name:"\u53d6\u6d88"},{name:"\u786e\u5b9a",callback:function(a){a=a.querySelector(".cloud-text");e(a.value)}}]})};g.alert=function(c){return this.open({title:"\u7cfb\u7edf\u63d0\u793a",content:c,covered:!0,closeBtn:!0,button:[{name:"\u786e\u5b9a",callback:function(){}}]})};
g.explain=function(c,f,e){var a=!0,d=this.open({content:c,covered:!0,icon:f||"",close:function(b){return a?(b.style.cssText+="-webkit-transition: all 0.5s;transition: all 0.5s;opacity: 0;",a=!1,setTimeout(d.close,500),!1):!0}});setTimeout(d.close,e||1500);return d};g.asked=function(c,f,e){return this.open({content:c,covered:!0,button:[{name:"\u53d6\u6d88",callback:e||function(){}},{name:"\u786e\u5b9a",callback:f||function(){}}]})};g.select=function(c,f,e,a,d){var b=this.open({title:c,content:h(c,
f,e,a),covered:!0,button:[{name:"\u53d6\u6d88"}],load:function(a){a=a.querySelectorAll(".cloud-select");for(var c=0;c<a.length;c++)a[c].addEventListener("click",function(){for(var a=this.parentNode.querySelectorAll(".cloud-select-true"),c=0;c<a.length;c++)a[c].className="cloud-select-false";this.querySelector("div").className="cloud-select-true";a=parseInt(this.dataset.index);d(f[a]);b.close()},!1)}});return b};g.checkbox=function(c,f,e,a,d){return this.open({title:c,content:h(c,f,e,name),covered:!0,
button:[{name:"\u786e\u5b9a",callback:function(b){b=b.querySelectorAll(".cloud-select-true");for(var a=[],c=0;c<b.length;c++){var e=parseInt(b[c].parentNode.dataset.index);a.push(f[e])}d(a)}}],load:function(a){a=a.querySelectorAll(".cloud-select");for(var c=0;c<a.length;c++)a[c].addEventListener("click",function(){var a=this.querySelector("div");a.className="cloud-select-false"==a.className?"cloud-select-true":"cloud-select-false"},!1)}})};g.loading=function(c,f,e){return this.open({content:c,covered:!0,
coveredClose:void 0==f?!0:f,icon:e||"loading",load:function(a){a.querySelector(".cloud-main").style.width="auto"}})};return g});